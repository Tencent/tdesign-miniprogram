{"version":3,"sources":["../src/switch/switch.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,WAAW,EAAE,cAAc,EAAE,MAAM,qBAAqB,CAAC;AAClE,OAAO,MAAM,MAAM,kBAAkB,CAAC;AACtC,OAAO,KAAK,MAAM,SAAS,CAAC;AAE5B,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAC;AAC1B,MAAM,IAAI,GAAG,GAAG,MAAM,SAAS,CAAC;AAEhC,IAAqB,MAAM,GAA3B,MAAqB,MAAO,SAAQ,cAAc;IAAlD;;QACE,oBAAe,GAAG,CAAC,SAAS,EAAE,eAAe,EAAE,cAAc,EAAE,aAAa,CAAC,CAAC;QAE9E,eAAU,GAAG,KAAK,CAAC;QAEnB,UAAU;QACV,SAAI,GAAG;YACL,WAAW,EAAE,IAAI;YACjB,QAAQ,EAAE,KAAK;YACf,SAAS,EAAE,EAAE;SACd,CAAC;QAEF,cAAS,GAAG;YACV,QAAQ;gBACN,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;gBACzC,MAAM,CAAC,WAAW,CAAC,GAAG,WAAW,CAAC;gBAElC,IAAI,CAAC,OAAO,CAAC;oBACX,QAAQ,EAAE,KAAK,KAAK,WAAW;iBAChC,CAAC,CAAC;gBACH,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC3B,CAAC;SACF,CAAC;QAEF,YAAO,GAAG;YACR,YAAY;gBACV,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;gBAC7D,MAAM,CAAC,WAAW,EAAE,aAAa,CAAC,GAAG,WAAW,CAAC;gBACjD,IAAI,QAAQ;oBAAE,OAAO;gBAErB,IAAI,CAAC,OAAO,CAAC;oBACX,KAAK,EAAE,KAAK,KAAK,WAAW,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW;oBAC1D,QAAQ,EAAE,CAAC,QAAQ;iBACpB,CAAC,CAAC;gBAEH,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE;oBAC1B,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK;iBACvB,CAAC,CAAC;gBACH,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC3B,CAAC;YACD,iBAAiB;gBACf,MAAM,EAAE,QAAQ,EAAE,MAAM,GAAG,EAAE,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;gBAC5C,MAAM,CAAC,YAAY,GAAG,SAAS,EAAE,cAAc,GAAG,oBAAoB,CAAC,GAAG,MAAM,CAAC;gBACjF,IAAI,CAAC,QAAQ,EAAE;oBACb,IAAI,CAAC,OAAO,CAAC;wBACX,SAAS,EAAE,qBAAqB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,cAAc,EAAE;qBACrF,CAAC,CAAC;iBACJ;YACH,CAAC;YACD,eAAe;gBACb,IAAI,CAAC,YAAY,EAAE,CAAC;YACtB,CAAC;YACD,QAAQ;gBACN,IAAI,CAAC,YAAY,EAAE,CAAC;YACtB,CAAC;SACF,CAAC;IACJ,CAAC;CAAA,CAAA;AAxDoB,MAAM;IAD1B,WAAW,EAAE;GACO,MAAM,CAwD1B;eAxDoB,MAAM","file":"switch.js","sourcesContent":["import { wxComponent, SuperComponent } from '../common/src/index';\nimport config from '../common/config';\nimport props from './props';\n\nconst { prefix } = config;\nconst name = `${prefix}-switch`;\n@wxComponent()\nexport default class Switch extends SuperComponent {\n  externalClasses = ['t-class', 't-class-label', 't-class-body', 't-class-dot'];\n\n  properties = props;\n\n  // 组件的内部数据\n  data = {\n    classPrefix: name,\n    isActive: false,\n    bodyStyle: '',\n  };\n\n  lifetimes = {\n    attached() {\n      const { value, customValue } = this.data;\n      const [activeValue] = customValue;\n\n      this.setData({\n        isActive: value === activeValue,\n      });\n      this.handleColorChange();\n    },\n  };\n\n  methods = {\n    switchChange() {\n      const { disabled, value, customValue, isActive } = this.data;\n      const [activeValue, inactiveValue] = customValue;\n      if (disabled) return;\n\n      this.setData({\n        value: value === activeValue ? inactiveValue : activeValue,\n        isActive: !isActive,\n      });\n\n      this.triggerEvent('change', {\n        value: this.data.value,\n      });\n      this.handleColorChange();\n    },\n    handleColorChange() {\n      const { disabled, colors = [] } = this.data;\n      const [activedColor = '#0052d9', inactivedColor = 'rgba(0, 0, 0, .26)'] = colors;\n      if (!disabled) {\n        this.setData({\n          bodyStyle: `background-color: ${this.data.isActive ? activedColor : inactivedColor}`,\n        });\n      }\n    },\n    onTapBackground() {\n      this.switchChange();\n    },\n    onTapDot() {\n      this.switchChange();\n    },\n  };\n}\n"]}