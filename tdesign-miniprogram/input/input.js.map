{"version":3,"sources":["../src/input/input.ts"],"names":[],"mappings":";;;;;;AAAA;;;;;;;GAOG;AACH,OAAO,EAAE,cAAc,EAAE,WAAW,EAAE,MAAM,qBAAqB,CAAC;AAClE,OAAO,MAAM,MAAM,kBAAkB,CAAC;AACtC,OAAO,KAAK,MAAM,SAAS,CAAC;AAC5B,OAAO,EAAE,kBAAkB,EAAE,MAAM,iBAAiB,CAAC;AAErD,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAC;AAC1B,MAAM,IAAI,GAAG,GAAG,MAAM,QAAQ,CAAC;AAG/B,IAAqB,KAAK,GAA1B,MAAqB,KAAM,SAAQ,cAAc;IAAjD;;QACE,YAAO,GAAG;YACR,aAAa,EAAE,IAAI,EAAE,sBAAsB;SAC5C,CAAC;QAEF,oBAAe,GAAG,CAAC,SAAS,EAAE,eAAe,EAAE,qBAAqB,EAAE,mBAAmB,CAAC,CAAC;QAE3F,eAAU,GAAG,KAAK,CAAC;QAEnB,SAAI,GAAG;YACL,UAAU,EAAE,EAAE;YACd,WAAW,EAAE,IAAI;YACjB,eAAe,EAAE,MAAM;YACvB,eAAe,EAAE,CAAC;SACnB,CAAC;QAEF,YAAY;QACZ,cAAS,GAAG;YACV,KAAK;gBACH,IAAI,CAAC,OAAO,CAAC,EAAE,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;YAChD,CAAC;SACF,CAAC;QAEF,YAAO,GAAG;YACR,OAAO,CAAC,KAAK;gBACX,MAAM,EAAE,KAAK,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC;gBAC/B,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC;gBACzC,IAAI,YAAY,IAAI,YAAY,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,EAAE;oBACnE,MAAM,EAAE,UAAU,GAAG,EAAE,EAAE,MAAM,GAAG,CAAC,EAAE,GAAG,kBAAkB,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC;oBAChF,IAAI,CAAC,OAAO,CAAC;wBACX,KAAK,EAAE,UAAU;wBACjB,eAAe,EAAE,MAAM;qBACxB,CAAC,CAAC;iBACJ;qBAAM;oBACL,IAAI,CAAC,OAAO,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC;iBACrC;gBAED,IAAI,CAAC,YAAY,CAAC,QAAQ,oBACrB,KAAK,CAAC,MAAM,EACf,CAAC;YACL,CAAC;YACD,OAAO,CAAC,KAAK;gBACX,IAAI,CAAC,YAAY,CAAC,OAAO,oBACpB,KAAK,CAAC,MAAM,EACf,CAAC;YACL,CAAC;YACD,MAAM,CAAC,KAAK;gBACV,IAAI,CAAC,YAAY,CAAC,MAAM,oBACnB,KAAK,CAAC,MAAM,EACf,CAAC;YACL,CAAC;YACD,SAAS,CAAC,KAAK;gBACb,IAAI,CAAC,YAAY,CAAC,OAAO,oBACpB,KAAK,CAAC,MAAM,EACf,CAAC;YACL,CAAC;YACD,UAAU,CAAC,KAAK;gBACd,IAAI,CAAC,OAAO,CAAC,EAAE,UAAU,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC;gBAC5C,IAAI,CAAC,YAAY,CAAC,OAAO,oBACpB,KAAK,CAAC,MAAM,EACf,CAAC;YACL,CAAC;SACF,CAAC;IACJ,CAAC;CAAA,CAAA;AA/DoB,KAAK;IADzB,WAAW,EAAE;GACO,KAAK,CA+DzB;eA/DoB,KAAK","file":"input.js","sourcesContent":["/*\n * @Author: rileycai\n * @Date: 2021-09-21 19:10:10\n * @LastEditTime: 2021-09-28 10:26:57\n * @LastEditors: Please set LastEditors\n * @Description: textarea从input组件拆分出去\n * @FilePath: /tdesign-miniprogram/src/input/input.ts\n */\nimport { SuperComponent, wxComponent } from '../common/src/index';\nimport config from '../common/config';\nimport props from './props';\nimport { getCharacterLength } from '../common/utils';\n\nconst { prefix } = config;\nconst name = `${prefix}-input`;\n\n@wxComponent()\nexport default class Input extends SuperComponent {\n  options = {\n    multipleSlots: true, // 在组件定义时的选项中启用多slot支持\n  };\n\n  externalClasses = ['t-class', 't-class-input', 't-class-placeholder', 't-class-error-msg'];\n\n  properties = props;\n\n  data = {\n    inputValue: '',\n    classPrefix: name,\n    classBasePrefix: prefix,\n    characterLength: 0,\n  };\n\n  /* 组件生命周期 */\n  lifetimes = {\n    ready() {\n      this.setData({ inputValue: this.data.value });\n    },\n  };\n\n  methods = {\n    onInput(event) {\n      const { value } = event.detail;\n      const { maxcharacter } = this.properties;\n      if (maxcharacter && maxcharacter > 0 && !Number.isNaN(maxcharacter)) {\n        const { characters = '', length = 0 } = getCharacterLength(value, maxcharacter);\n        this.setData({\n          value: characters,\n          characterLength: length,\n        });\n      } else {\n        this.setData({ inputValue: value });\n      }\n\n      this.triggerEvent('change', {\n        ...event.detail,\n      });\n    },\n    onFocus(event) {\n      this.triggerEvent('focus', {\n        ...event.detail,\n      });\n    },\n    onBlur(event) {\n      this.triggerEvent('blur', {\n        ...event.detail,\n      });\n    },\n    onConfirm(event) {\n      this.triggerEvent('enter', {\n        ...event.detail,\n      });\n    },\n    clearInput(event) {\n      this.setData({ inputValue: '', value: '' });\n      this.triggerEvent('clear', {\n        ...event.detail,\n      });\n    },\n  };\n}\n"]}