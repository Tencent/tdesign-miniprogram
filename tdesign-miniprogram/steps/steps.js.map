{"version":3,"sources":["../src/steps/steps.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,WAAW,EAAE,cAAc,EAAoB,MAAM,qBAAqB,CAAC;AACpF,OAAO,MAAM,MAAM,kBAAkB,CAAC;AACtC,OAAO,KAAK,MAAM,SAAS,CAAC;AAE5B,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAC;AAC1B,MAAM,IAAI,GAAG,GAAG,MAAM,QAAQ,CAAC;AAG/B,IAAqB,KAAK,GAA1B,MAAqB,KAAM,SAAQ,cAAc;IAAjD;;QACE,cAAS,GAAqB;YAC5B,aAAa,EAAE;gBACb,IAAI,EAAE,YAAY;gBAClB,MAAM,CAAC,KAAK;oBACV,IAAI,CAAC,cAAc,EAAE,CAAC;oBAEtB,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;oBACvC,IAAI,OAAO,GAAG,KAAK,CAAC;oBAEpB,IAAI,CAAC,QAAQ,IAAI,MAAM,KAAK,YAAY,EAAE;wBACxC,OAAO,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;qBAC7B;oBAED,KAAK,CAAC,OAAO,CAAC;wBACZ,QAAQ;wBACR,OAAO;qBACR,CAAC,CAAC;gBACL,CAAC;aACF;SACF,CAAC;QAEF,oBAAe,GAAG,CAAC,GAAG,MAAM,QAAQ,CAAC,CAAC;QAEtC,eAAU,GAAG,KAAK,CAAC;QAEnB,oBAAe,GAAG;YAChB;gBACE,GAAG,EAAE,SAAS;gBACd,KAAK,EAAE,QAAQ;aAChB;SACF,CAAC;QAEF,UAAU;QACV,SAAI,GAAG;YACL,MAAM;YACN,WAAW,EAAE,IAAI;SAClB,CAAC;QAEF,cAAS,GAAG;YACV,OAAO;gBACL,IAAI,CAAC,cAAc,EAAE,CAAC;YACxB,CAAC;SACF,CAAC;QAEF,YAAO,GAAG;YACR,cAAc;gBACZ,MAAM,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC;gBACnD,MAAM,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC;gBACzB,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;gBAExC,IAAI,GAAG,GAAG,CAAC,EAAE;oBACX,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE;wBAC5B,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;oBACxF,CAAC,CAAC,CAAC;iBACJ;YACH,CAAC;YACD,WAAW,CAAC,KAAK;gBACf,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,UAAU,EAAE;oBACnC,OAAO;iBACR;gBACD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;oBACvB,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;oBACnC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE;wBACtB,QAAQ,EAAE,QAAQ;wBAClB,OAAO,EAAE,KAAK;qBACf,CAAC,CAAC;iBACJ;YACH,CAAC;SACF,CAAC;IACJ,CAAC;CAAA,CAAA;AAtEoB,KAAK;IADzB,WAAW,EAAE;GACO,KAAK,CAsEzB;eAtEoB,KAAK","file":"steps.js","sourcesContent":["import { wxComponent, SuperComponent, RelationsOptions } from '../common/src/index';\nimport config from '../common/config';\nimport props from './props';\n\nconst { prefix } = config;\nconst name = `${prefix}-steps`;\n\n@wxComponent()\nexport default class Steps extends SuperComponent {\n  relations: RelationsOptions = {\n    './step-item': {\n      type: 'descendant',\n      linked(child) {\n        this.updateChildren();\n\n        const { readonly, layout } = this.data;\n        let isLarge = false;\n\n        if (!readonly && layout === 'horizontal') {\n          isLarge = !!child.data.icon;\n        }\n\n        child.setData({\n          readonly,\n          isLarge,\n        });\n      },\n    },\n  };\n\n  externalClasses = [`${prefix}-class`];\n\n  properties = props;\n\n  controlledProps = [\n    {\n      key: 'current',\n      event: 'change',\n    },\n  ];\n\n  // 组件的内部数据\n  data = {\n    prefix,\n    classPrefix: name,\n  };\n\n  observers = {\n    current() {\n      this.updateChildren();\n    },\n  };\n\n  methods = {\n    updateChildren() {\n      const items = this.getRelationNodes('./step-item');\n      const len = items.length;\n      const { current, readonly } = this.data;\n\n      if (len > 0) {\n        items.forEach((item, index) => {\n          item.updateStatus(current, index, this.data.theme, this.data.layout, items, readonly);\n        });\n      }\n    },\n    handleClick(index) {\n      if (this.data.layout === 'vertical') {\n        return;\n      }\n      if (!this.data.readonly) {\n        const preIndex = this.data.current;\n        this._trigger('change', {\n          previous: preIndex,\n          current: index,\n        });\n      }\n    },\n  };\n}\n"]}