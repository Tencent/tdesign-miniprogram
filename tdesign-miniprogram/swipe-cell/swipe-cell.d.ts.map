{"version":3,"sources":["../src/swipe-cell/swipe-cell.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,cAAc,EAAe,MAAM,qBAAqB,CAAC;AAQlE,MAAM,CAAC,OAAO,OAAO,UAAW,SAAQ,cAAc;IACpD,SAAS,WAAS;IAElB,eAAe,WAAe;IAE9B,OAAO;;MAEL;IAEF,UAAU,oCAAS;IAEnB,IAAI;;;;;MAKF;IAEF,QAAQ;IAKF,aAAa;IASnB,QAAQ;IAIR,IAAI;IAIJ,KAAK;IAIL,UAAU;IAIV,KAAK;IAIL,WAAW,CAAC,KAAK,KAAA;CAQlB","file":"swipe-cell.d.ts","sourcesContent":["import dom from '../behaviors/dom';\nimport { SuperComponent, wxComponent } from '../common/src/index';\nimport config from '../common/config';\nimport props from './props';\n\nlet ARRAY: WechatMiniprogram.Component.TrivialInstance[] = [];\nconst { prefix } = config;\n\n@wxComponent()\nexport default class SwiperCell extends SuperComponent {\n  behaviors = [dom];\n\n  externalClasses = ['t-class'];\n\n  options = {\n    multipleSlots: true,\n  };\n\n  properties = props;\n\n  data = {\n    wrapperStyle: '',\n    closed: true,\n    opened: false,\n    classPrefix: `.${prefix}-swipe-cell`,\n  };\n\n  attached() {\n    ARRAY.push(this as WechatMiniprogram.Component.TrivialInstance);\n    this.setSwipeWidth();\n  }\n\n  async setSwipeWidth() {\n    const rightRect = await this.gettingBoundingClientRect(`${this.data.classPrefix}__right`);\n    const leftRect = await this.gettingBoundingClientRect(`${this.data.classPrefix}__left`);\n    this.setData({\n      leftWidth: leftRect.width,\n      rightWidth: rightRect.width,\n    });\n  }\n\n  detached() {\n    ARRAY = ARRAY.filter((item) => item !== this);\n  }\n\n  open() {\n    this.setData({ opened: true });\n  }\n\n  close() {\n    this.setData({ opened: false });\n  }\n\n  closeOther() {\n    ARRAY.filter((item) => item !== this).forEach((item) => item.close());\n  }\n\n  onTap() {\n    this.close();\n  }\n\n  onActionTap(event) {\n    const {\n      currentTarget: {\n        dataset: { action },\n      },\n    } = event;\n    this.triggerEvent('click', action);\n  }\n}\n"]}