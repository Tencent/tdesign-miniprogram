{"version":3,"sources":["../src/checkbox/checkbox.ts"],"names":[],"mappings":"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","file":"checkbox.js","sourcesContent":["import { SuperComponent, wxComponent } from '../common/src/index';\nimport config from '../common/config';\nimport Props from './props';\n\nconst { prefix } = config;\nconst currentComponent = `${prefix}-checkbox`;\n@wxComponent()\nexport default class CheckBox extends SuperComponent {\n  externalClasses = ['t-class', 't-class-label', 't-class-icon', 't-class-content'];\n\n  relations = {\n    '../checkbox-group/checkbox-group': {\n      type: 'ancestor' as 'ancestor',\n    },\n  };\n\n  options = {\n    multipleSlots: true,\n  };\n\n  properties = Props;\n\n  // 组件的内部数据\n  data = {\n    classPrefix: currentComponent,\n    classBasePrefix: prefix,\n    active: false,\n    halfChecked: false,\n    optionLinked: false,\n  };\n\n  lifetimes = {\n    attached() {\n      this.initStatus();\n    },\n  };\n\n  /* Methods */\n  methods = {\n    onChange(e) {\n      const { disabled, readonly } = this.data;\n      if (disabled || readonly) return;\n      const { target } = e.currentTarget.dataset;\n      const { contentDisabled } = this.data;\n      if (target === 'text' && contentDisabled) {\n        return;\n      }\n      const { value, active, checkAll, optionLinked } = this.data;\n      const item = { name: value, checked: !active, checkAll };\n      const [parent] = this.getRelationNodes('../checkbox-group/checkbox-group');\n      if (parent) {\n        if (checkAll || optionLinked) {\n          parent.handleCheckAll({\n            type: 'slot',\n            checked: !active,\n            option: !checkAll,\n            name: value,\n          });\n        } else {\n          parent.updateValue(item);\n        }\n      } else if (checkAll || optionLinked) {\n        this.triggerEvent('toggleAll', {\n          type: 'not-slot',\n          checked: !active,\n          option: !checkAll,\n          name: value,\n        });\n      } else {\n        this.triggerEvent('change', !active);\n        this.toggle();\n      }\n    },\n    initStatus() {\n      if (!this.data.optionLinked) {\n        if (this.data.indeterminate) {\n          this.setData({\n            active: true,\n            halfChecked: true,\n          });\n        } else {\n          this.setData({\n            active: this.data.checked,\n            halfChecked: this.data.indeterminate,\n          });\n        }\n      }\n    },\n    toggle() {\n      const { active } = this.data;\n      this.setData({\n        active: !active,\n      });\n    },\n    setDisabled(disabled: Boolean) {\n      this.setData({\n        disabled: this.data.disabled || disabled,\n      });\n    },\n    changeActive(active: boolean) {\n      this.setData({\n        active,\n      });\n    },\n    // 半选\n    changeCheckAllHalfStatus(active: boolean) {\n      this.setData({\n        halfChecked: active,\n      });\n    },\n    // group option\n    setOptionLinked(linked: Boolean) {\n      this.setData({\n        optionLinked: linked,\n      });\n    },\n  };\n}\n"]}