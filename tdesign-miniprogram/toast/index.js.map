{"version":3,"sources":["../src/toast/index.ts"],"names":[],"mappings":";;;;;;;;;;;AAkBA,MAAM,WAAW,GAAG,CAAC,OAAiB,EAAE,QAAQ,GAAG,UAAU,EAAE,EAAE;IAC/D,IAAI,CAAC,OAAO,EAAE;QACZ,MAAM,KAAK,GAAG,eAAe,EAAE,CAAC;QAChC,MAAM,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACrC,OAAO,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC;KACnC;IACD,MAAM,QAAQ,GAAG,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,eAAe,CAAC,QAAQ,CAAC,CAAC;IACpD,IAAI,CAAC,QAAQ,EAAE;QACb,OAAO,CAAC,IAAI,CAAC,4BAA4B,CAAC,CAAC;QAC3C,OAAO,IAAI,CAAC;KACb;IACD,OAAO,QAAQ,CAAC;AAClB,CAAC,CAAC;AAEF,MAAM,CAAC,OAAO,WAAW,OAAyB;IAChD,MAAM,EAAE,OAAO,EAAE,QAAQ,KAAiB,OAAO,EAAnB,OAAO,UAAK,OAAO,EAA3C,uBAAiC,CAAU,CAAC;IAClD,MAAM,QAAQ,GAAG,WAAW,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;IAChD,IAAI,QAAQ,EAAE;QACZ,QAAQ,CAAC,IAAI,iCACR,OAAO,KACV,QAAQ,EAAE,OAAO,CAAC,QAAQ,IAAI,IAAI,IAClC,CAAC;KACJ;AACH,CAAC","file":"index.js","sourcesContent":["type Context = WechatMiniprogram.Page.TrivialInstance | WechatMiniprogram.Component.TrivialInstance;\n\ntype ToastType = 'loading' | 'success' | 'fail';\ntype ToastPositionType = 'top' | 'middle' | 'bottom';\ntype ToastDirectionType = 'row' | 'column';\n\nexport type ToastOptionsType = {\n  context?: Context;\n  selector?: string;\n  icon?: string;\n  message?: string;\n  duration?: number;\n  theme?: ToastType;\n  placement?: ToastPositionType;\n  preventScrollThrough?: boolean;\n  direction?: ToastDirectionType;\n};\n\nconst getInstance = (context?: Context, selector = '#t-toast') => {\n  if (!context) {\n    const pages = getCurrentPages();\n    const page = pages[pages.length - 1];\n    context = page.$$basePage || page;\n  }\n  const instance = context?.selectComponent(selector);\n  if (!instance) {\n    console.warn('未找到toast组件,请检查selector是否正确');\n    return null;\n  }\n  return instance;\n};\n\nexport default function (options: ToastOptionsType) {\n  const { context, selector, ...Options } = options;\n  const instance = getInstance(context, selector);\n  if (instance) {\n    instance.show({\n      ...Options,\n      duration: Options.duration || 2000,\n    });\n  }\n}\n"]}