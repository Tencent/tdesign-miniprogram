{"version":3,"sources":["../src/radio/radio.ts"],"names":[],"mappings":"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","file":"radio.js","sourcesContent":["import config from '../common/config';\nimport { SuperComponent, wxComponent } from '../common/src/index';\nimport Props from './props';\n\nconst { prefix } = config;\nconst name = `${prefix}-radio`;\n\nconst iconDefault = {\n  'fill-circle': ['check-circle-filled', 'circle'],\n  'stroke-line': ['check', ''],\n};\n@wxComponent()\nexport default class Radio extends SuperComponent {\n  externalClasses = [`${prefix}-class`, `${prefix}-class-label`, `${prefix}-class-icon`, `${prefix}-class-content`];\n\n  relations = {\n    '../radio-group/radio-group': {\n      type: 'ancestor' as 'ancestor',\n    },\n  };\n\n  options = {\n    multipleSlots: true,\n  };\n\n  lifetimes = {\n    attached() {\n      this.handleInitStatus();\n    },\n  };\n\n  properties = Props;\n\n  data = {\n    prefix,\n    active: false,\n    classPrefix: name,\n    classBasePrefix: prefix,\n    customIcon: false,\n    optionLinked: false,\n    iconVal: [],\n  };\n\n  methods = {\n    onChange(e) {\n      if (this.data.disabled) return;\n      const { target } = e.currentTarget.dataset;\n      const { contentDisabled } = this.data;\n      if (target === 'text' && contentDisabled) {\n        return;\n      }\n      const { value, active, optionLinked } = this.data;\n      const [parent] = this.getRelationNodes('../radio-group/radio-group');\n      if (parent) {\n        parent.updateValue({ name: value });\n      } else {\n        if (optionLinked) {\n          this.triggerEvent('toggleGroupSelect', { name: value });\n          return;\n        }\n        this.triggerEvent('change', !active);\n        this.toggle();\n      }\n    },\n    handleInitStatus() {\n      const { icon } = this.data;\n      const isIdArr = Array.isArray(icon);\n      this.setData({\n        customIcon: isIdArr,\n        iconVal: !isIdArr ? iconDefault[icon] : this.data.icon,\n      });\n      if (!this.data.optionLinked) {\n        this.setData({\n          active: this.data.checked,\n        });\n      }\n    },\n    toggle() {\n      const { active } = this.data;\n      this.setData({\n        active: !active,\n      });\n    },\n    changeActive(active: boolean) {\n      this.setData({\n        active,\n      });\n    },\n    setDisabled(disabled: Boolean) {\n      this.setData({\n        disabled: this.data.disabled || disabled,\n      });\n    },\n    // 支持options\n    setOptionLinked(linked: Boolean) {\n      this.setData({\n        optionLinked: linked,\n      });\n    },\n  };\n}\n"]}