{"version":3,"sources":["../src/radio-group/radio-group.ts"],"names":[],"mappings":"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","file":"radio-group.js","sourcesContent":["import config from '../common/config';\nimport { SuperComponent, wxComponent } from '../common/src/index';\nimport Props from '../radio/radio-group-props';\n\nconst { prefix } = config;\nconst name = `${prefix}-radio-group`;\n\n@wxComponent()\nexport default class RadioGroup extends SuperComponent {\n  externalClasses = [`${prefix}-class`];\n\n  data = {\n    prefix,\n    classPrefix: name,\n    radioOptions: [],\n  };\n\n  relations = {\n    '../radio/radio': {\n      type: 'descendant' as 'descendant',\n      linked() {\n        this.updateChildren();\n      },\n    },\n  };\n\n  properties = Props;\n\n  lifetimes = {\n    attached() {\n      this.handleCreateMulRadio();\n    },\n  };\n\n  observers = {\n    value: function () {\n      this.updateChildren();\n    },\n  };\n\n  methods = {\n    updateChildren() {\n      let items = this.getRelationNodes('../radio/radio');\n      if (!items.length) {\n        items = this.selectAllComponents(`.${prefix}-radio-option`);\n      }\n      const { value, disabled } = this.data;\n      if (items.length > 0) {\n        items.forEach((item) => {\n          item.changeActive(value === item.data.value);\n          item.setDisabled(disabled);\n        });\n      }\n    },\n    updateValue(item) {\n      this.setData({\n        value: item.name,\n      });\n      this.updateChildren();\n      this.triggerEvent('change', item.name);\n    },\n    // 处理 group选项\n    handleGroupSelect(e) {\n      const { name } = e.detail;\n      this.setData({\n        value: name,\n      });\n      this.triggerEvent('change', name);\n      const items = this.selectAllComponents(`.${prefix}-radio-option`);\n      if (items.length > 0) {\n        items.forEach((item) => {\n          item.changeActive(name === item.data.value);\n        });\n      }\n    },\n    // 设置option选项\n    handleOptionLinked() {\n      const items = this.selectAllComponents(`.${prefix}-radio-option`);\n      if (this.data.radioOptions.length) {\n        items.forEach((item) => {\n          item.setOptionLinked(true);\n        });\n      }\n    },\n    // 支持自定义options\n    handleCreateMulRadio() {\n      const { options } = this.data;\n      // 数字数组｜字符串数组｜对像数组\n      if (!options?.length || !Array.isArray(options)) {\n        return;\n      }\n      const optionsValue = [];\n      try {\n        options.forEach((element) => {\n          const typeName = typeof element;\n          if (typeName === 'number' || typeName === 'string') {\n            optionsValue.push({\n              label: `${element}`,\n              value: element,\n            });\n          } else if (typeName === 'object') {\n            optionsValue.push({\n              ...element,\n            });\n          }\n        });\n        this.setData({\n          radioOptions: optionsValue,\n        });\n        this.handleOptionLinked();\n        this.updateChildren();\n      } catch (error) {\n        console.error('error', error);\n      }\n    },\n  };\n}\n"]}