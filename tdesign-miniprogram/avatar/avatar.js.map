{"version":3,"sources":["../src/avatar/avatar.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,cAAc,EAAE,WAAW,EAAE,MAAM,qBAAqB,CAAC;AAClE,OAAO,MAAM,MAAM,kBAAkB,CAAC;AACtC,OAAO,WAAW,MAAM,SAAS,CAAC;AAElC,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAC;AAC1B,MAAM,IAAI,GAAG,GAAG,MAAM,SAAS,CAAC;AAGhC,IAAqB,MAAM,GAA3B,MAAqB,MAAO,SAAQ,cAAc;IAAlD;;QACE,YAAO,GAAG;YACR,aAAa,EAAE,IAAI,EAAE,sBAAsB;SAC5C,CAAC;QAEF,oBAAe,GAAG;YAChB,GAAG,MAAM,QAAQ;YACjB,GAAG,MAAM,cAAc;YACvB,GAAG,MAAM,aAAa;YACtB,GAAG,MAAM,YAAY;YACrB,GAAG,MAAM,gBAAgB;SAC1B,CAAC;QAEF,eAAU,GAAG,WAAW,CAAC;QAEzB,SAAI,GAAG;YACL,MAAM;YACN,WAAW,EAAE,IAAI;YACjB,MAAM,EAAE,IAAI;YACZ,MAAM,EAAE,CAAC;YACT,OAAO,EAAE,KAAK;SACf,CAAC;QAEF,cAAS,GAAG;YACV,gBAAgB,EAAE;gBAChB,IAAI,EAAE,UAAwB;gBAC9B,MAAM,CAAe,MAAmD;oBACtE,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;gBACvB,CAAC;aACF;SACF,CAAC;QAEF,YAAO,GAAG;YACR;;;eAGG;YACH,aAAa,CAAC,OAAO;gBACnB,IAAI,CAAC,OAAO,CAAC;oBACX,OAAO;iBACR,CAAC,CAAC;YACL,CAAC;YAED;;eAEG;YACH,UAAU;gBACR,IAAI,CAAC,OAAO,CAAC;oBACX,MAAM,EAAE,KAAK;iBACd,CAAC,CAAC;YACL,CAAC;YACD;;eAEG;YACH,UAAU,CAAC,IAAI;gBACb,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI;oBAAE,OAAO;gBACjC,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;YACzB,CAAC;YACD;;eAEG;YACH,eAAe,CAAC,MAAM;gBACpB,IAAI,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC;YAC3B,CAAC;SACF,CAAC;IAUJ,CAAC;IARC,WAAW,CAAC,CAAM;QAChB,IAAI,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE;YACpC,IAAI,CAAC,OAAO,CAAC;gBACX,MAAM,EAAE,KAAK;aACd,CAAC,CAAC;SACJ;QACD,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;IACvC,CAAC;CACF,CAAA;AA1EoB,MAAM;IAD1B,WAAW,EAAE;GACO,MAAM,CA0E1B;eA1EoB,MAAM","file":"avatar.js","sourcesContent":["import { SuperComponent, wxComponent } from '../common/src/index';\nimport config from '../common/config';\nimport avatarProps from './props';\n\nconst { prefix } = config;\nconst name = `${prefix}-avatar`;\n\n@wxComponent()\nexport default class Avatar extends SuperComponent {\n  options = {\n    multipleSlots: true, // 在组件定义时的选项中启用多slot支持\n  };\n\n  externalClasses = [\n    `${prefix}-class`,\n    `${prefix}-class-image`,\n    `${prefix}-class-icon`,\n    `${prefix}-class-alt`,\n    `${prefix}-class-content`,\n  ];\n\n  properties = avatarProps;\n\n  data = {\n    prefix,\n    classPrefix: name,\n    isShow: true,\n    zIndex: 0,\n    isChild: false,\n  };\n\n  relations = {\n    './avatar-group': {\n      type: 'ancestor' as 'ancestor',\n      linked(this: Avatar, target: WechatMiniprogram.Component.TrivialInstance) {\n        this.parent = target;\n      },\n    },\n  };\n\n  methods = {\n    /**\n     * @description avatar-group子节点缩紧，avatar无\n     * @param isChild 是否为avatar-group子节点\n     */\n    updateIsChild(isChild) {\n      this.setData({\n        isChild,\n      });\n    },\n\n    /**\n     * @description 控制avatar显隐\n     */\n    updateShow() {\n      this.setData({\n        isShow: false,\n      });\n    },\n    /**\n     * @description 控制avatar尺寸\n     */\n    updateSize(size) {\n      if (this.properties.size) return;\n      this.setData({ size });\n    },\n    /**\n     * @description 控制avatar左侧在上/右侧在上\n     */\n    updateCascading(zIndex) {\n      this.setData({ zIndex });\n    },\n  };\n\n  onLoadError(e: any) {\n    if (this.properties.hideOnLoadFailed) {\n      this.setData({\n        isShow: false,\n      });\n    }\n    this.triggerEvent('error', e.detail);\n  }\n}\n"]}