<wxs src="./message.wxs" module="this"></wxs>

<block wx:if="{{visible}}">
  <view
    class="{{classPrefix}} {{prefix}}-class {{classPrefix}}--{{theme}}"
    style="{{this.getMessageStyles(zIndex, offset, wrapTop, customStyle)}}"
    animation="{{showAnimation}}"
    id="{{classPrefix}}"
    aria-role="alert"
  >
    <t-icon
      wx:if="{{iconName}}"
      class="{{classPrefix}}__icon--left {{prefix}}-class-icon"
      name="{{iconProps.name || iconName}}"
      prefix="{{iconProps.prefix}}"
      size="{{iconProps.size || '44rpx'}}"
      color="{{iconProps.color}}"
      customStyle="{{iconProps.customStyle}}"
      aria-hidden
    />

    <slot name="icon" />

    <view
      class="{{classPrefix}}__text-wrap {{marquee ? '{{classPrefix}}__text-nowrap' : ''}}"
      style="text-align: {{align}}"
      id="{{classPrefix}}__text-wrap"
    >
      <view class="{{classPrefix}}__text {{prefix}}-class-content" id="{{classPrefix}}__text" animation="{{animation}}">
        <view wx:if="{{content}}">{{content}}</view>
        <slot name="content"></slot>
      </view>
    </view>

    <t-button
      wx:if="{{action}}"
      t-class="{{classPrefix}}__btn--right {{prefix}}-class-action"
      theme="primary"
      variant="outline"
      size="small"
      bind:tap="handleBtnClick"
      >{{action}}</t-button
    >
    <slot name="action" />

    <t-icon
      wx:if="{{closeBtn}}"
      class="{{classPrefix}}__icon--right {{prefix}}-class-close-btn"
      name="{{ closeIconProps.name || 'close' }}"
      prefix="{{closeIconProps.prefix}}"
      size="{{closeIconProps.size || '44rpx'}}"
      color="{{closeIconProps.color}}"
      customStyle="{{closeIconProps.customStyle}}"
      bind:tap="handleClose"
      aria-role="button"
      aria-label="关闭"
    />
    <slot name="closeBtn" />
  </view>
</block>
