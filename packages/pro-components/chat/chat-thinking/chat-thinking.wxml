<wxs src="../../../components/common/utils.wxs" module="_" />

<view class="class {{[classPrefix]}}" style="{{_._style([style, customStyle])}}">
  <view class="{{[classPrefix+'__inner',classPrefix+'__inner__'+layout]}}">
    <view class="{{[classPrefix+'__hd']}}">
      <block wx:if="{{status==='error'}}">
        <t-icon class="close-icon" name="close-circle" size="40rpx"></t-icon>
      </block>
      <block wx:if="{{status==='complete' || status==='stop'}}">
        <t-icon class="check-circle-icon" name="check-circle" size="40rpx"></t-icon>
      </block>
      <block wx:else>
        <t-chat-loading animation="{{animation}}"></t-chat-loading>
      </block>
      <view class="{{[classPrefix+'__hd__txt']}}">{{content.title||"正在思考中..."}}</view>
      <view data-event-opts="{{[['tap',[['handleCollapse',['$event']]]]]}}">
        <t-icon
          class="collapse-icon"
          name="chevron-up"
          size="40rpx"
          bindtap="handleCollapse"
          style="{{localCollapsed ? 'transform: rotate(180deg)' : ''}}"
        ></t-icon>
      </view>
    </view>
    <view
      hidden="{{!(!localCollapsed)}}"
      class="{{[classPrefix+'__bd',classPrefix+'__bd__'+layout]}}"
      style="{{(contentStyle)}}"
      >{{''+(content.text||"")+''}}</view
    >
  </view>
</view>
