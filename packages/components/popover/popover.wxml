<wxs src="../common/utils.wxs" module="_" />

<view id="{{classPrefix}}-wrapper" class="{{classPrefix}}__wrapper">
  <slot />
</view>

<t-overlay
  id="popover-overlay"
  wx:if="{{realVisible && closeOnClickOutside}}"
  visible="{{true}}"
  z-index="11000"
  duration="0"
  background-color="rgba(0,0,0,0)"
  bind:tap="onOverlayTap"
/>

<view
  wx:if="{{realVisible}}"
  id="{{classPrefix}}-content"
  style="{{contentStyle}}"
  class="{{classPrefix}} {{transitionClass}}"
  data-placement="{{_placement}}"
  bind:transitionend="onTransitionEnd"
>
  <view class="{{classPrefix}}__content {{classPrefix}}--{{theme}} ">
    <slot name="content" />
    <view wx:if="{{content}}">{{content}}</view>

    <view wx:if="{{showArrow}}" class="{{classPrefix}}__arrow" style="{{arrowStyle}}"></view>
  </view>
</view>
